(this["webpackJsonpproject-2020"]=this["webpackJsonpproject-2020"]||[]).push([[0],{178:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(83),s=n.n(l),r=(n(178),n(30)),i=n(31),o=n(33),d=n(32),u=n(34),h=(n(179),n(12)),m=function(e){return c.a.createElement("li",{className:e.user===e.selectedUser?"selected":"",onClick:function(){return e.onSelect(e.user)}},c.a.createElement("button",{className:"delete-button",onClick:function(t){return e.onDelete(t,e.user)}},"Delete"),c.a.createElement("div",{className:"user-element"},c.a.createElement("div",{className:"badge"},e.user.id),c.a.createElement("div",{className:"name"},e.user.name),c.a.createElement("div",{className:"password"},e.user.password)))},f=function(e){return e.selectedUser?c.a.createElement("div",null,c.a.createElement("div",{className:"editfields"},c.a.createElement("div",null,c.a.createElement("label",null,"id: "),e.addingUser?c.a.createElement("input",{type:"number",name:"id",placeholder:"id",value:e.selectedUser.id,onChange:e.onChange}):c.a.createElement("label",{className:"value"},e.selectedUser.id)),c.a.createElement("div",null,c.a.createElement("label",null,"name: "),c.a.createElement("input",{name:"name",value:e.selectedUser.name,placeholder:"name",onChange:e.onChange})),c.a.createElement("div",null,c.a.createElement("label",null,"password: "),c.a.createElement("input",{name:"password",value:e.selectedUser.password,placeholder:"password",onChange:e.onChange}))),c.a.createElement("button",{onClick:e.onCancel},"Cancel"),c.a.createElement("button",{onClick:e.onSave},"Save")):c.a.createElement("div",null)},p={get:function(){return new Promise((function(e,t){fetch("".concat("/api","/users")).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(e){t(e)}))}))},create:function(e){return new Promise((function(t,n){fetch("".concat("/api","/user"),{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return t(e)})).catch((function(e){n(e)}))}))},update:function(e){return new Promise((function(t,n){fetch("".concat("/api","/user"),{method:"PUT",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},destroy:function(e){return new Promise((function(t,n){fetch("".concat("/api","/user/").concat(e.id),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return t(e)})).catch((function(e){n(e)}))}))}},v=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(o.a)(this,Object(d.a)(t).call(this))).state={users:[],addingUser:!1},e.handleSelect=e.handleSelect.bind(Object(h.a)(e)),e.handleSave=e.handleSave.bind(Object(h.a)(e)),e.handleCancel=e.handleCancel.bind(Object(h.a)(e)),e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.handleEnableAddMode=e.handleEnableAddMode.bind(Object(h.a)(e)),e.handleDelete=e.handleDelete.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.get().then((function(t){return e.setState({users:t})}))}},{key:"handleSelect",value:function(e){this.setState({selectedUser:e})}},{key:"handleDelete",value:function(e,t){var n=this;e.stopPropagation(),p.destroy(t).then((function(){var e=n.state.users;e=e.filter((function(e){return e!==t})),n.setState({users:e}),n.selectedUser===t&&n.setState({selectedUser:null})}))}},{key:"handleSave",value:function(){var e=this,t=this.state.users;this.state.addingUser?p.create(this.state.selectedUser).then((function(n){console.log("Successfully created!"),t.push(e.state.selectedUser),e.setState({users:t,selectedUser:null,addingUser:!1})})).catch((function(e){console.log(e)})):p.update(this.state.selectedUser).then((function(){e.setState({selectedUser:null})})).catch((function(e){}))}},{key:"handleChange",value:function(e){var t=this.state.selectedUser;t[e.target.name]=e.target.value,this.setState({selectedUser:t})}},{key:"handleCancel",value:function(){this.setState({selectedUser:null,addingUser:!1})}},{key:"handleEnableAddMode",value:function(){this.setState({addingUser:!0,selectedUser:{id:"",name:"",password:""}})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("ul",{className:"users"},this.state.users.map((function(t){return c.a.createElement(m,{user:t,onSelect:e.handleSelect,selectedUser:e.state.selectedUser,onDelete:e.handleDelete})}))),c.a.createElement("div",{className:"editarea"},c.a.createElement("button",{onClick:this.handleEnableAddMode},"Add New User"),c.a.createElement(f,{addingUser:this.state.addingUser,selectedUser:this.state.selectedUser,onChange:this.handleChange,onSave:this.handleSave,onCancel:this.handleCancel})))}}]),t}(a.Component),b=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Users"),c.a.createElement("div",{className:"header-bar"}),c.a.createElement(v,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},84:function(e,t,n){e.exports=n(180)}},[[84,1,2]]]);
//# sourceMappingURL=main.bd8df58c.chunk.js.map